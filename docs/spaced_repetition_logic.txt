# Spaced Repetition Logic

## Intervals (MVP)
1, 3, 7, 14 days (14 optional)

## Rules
- If PASS at stage 4 or 5: advance interval (1→3→7→14)
- If FAIL: reset to 1 day
- Each successful review adds +XP and micro-praise

## Pseudocode
```
if pass:
  next = advance(current_interval)  # 1→3→7→14
else:
  next = 1

progress.next_due_date = today + next
```

## Implementation
See: /src/lib/srScheduler.ts
See: /src/hooks/useSpacedRepetition.ts

## Due Word Detection
- Check `next_due_date` field in progress table
- If next_due_date <= today: word is due
- Display due count on home page and review page

## Completion Flow
1. User completes Stage 4 or 5 with PASS
2. System calculates next interval based on current interval
3. System updates `next_due_date` in progress table
4. Word appears on review page when due date arrives
